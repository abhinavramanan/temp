<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tempo | Offline Time Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABJBJREFUWEe9l1tMk1cYx//9Wgpt6UUpLZci4IXJEMFLdDovcxovC5qYLGaLyZZsmS8mJsvigxqzZX7xsuzBxSXLNhOTZWFxZiMuZk5U0GUMJ6goMhQcpVwKpfRe2u/bnjKkVdoCXZb0fWj7nfP/n+f/nPOd7xT4n4v4kvfv3396fHxcWlpaasrIyJD+F07GxsbsQ0NDI11dXd+eO3fuZ3q+ZIA9e/Z8ZbPZPrt8+TJKS0vhdruRlJQEkiQRCoUQDAYxMzOD+vp6iMViNDY2YmBgwE0B9gYCgUNtbW1/xwOJC7Bv375vR0dHP7506RJKSkqi7YFAADabjV6CwaAATkVFRdy7dw83btzA1atXMTIyghMnTuDOnTsdFy5c+IICfBnPUUyA/fv3Hz9//vxPFy9eRGVlJUiShNPpxOTkJKampiAWiyGTycBxHGiAlJQUqNVqTE9P4969e2hubsbNmzdBUbqbm5s/ogBH4kHEBKDT3tLScqu6uhpZWVno6+sDwzCgICaTCbm5uSgsLIRGo4FCoYBIJKId0O/p6Wk8fPgQ7e3tGB4exuHDh3Hz5s2Wlpb/DnDgwIEPGxoaWi5cuICCggJ0d3fTtFMIo9GI/Px8lJWVQavVCotQqVR0uyQSCZRKJaanp9HW1oauri4cOXIEra2tzS0tLR/EysSCDNTV1e2qra29c/r0aWg0GvT29sLlcmFgYIDCYO/evdDpdNDr9VCr1ZDL5eA4TgBhWRYOhwO9vb24e/cu3XJoaGjY3dzcfDsWRFSAurq6HXV1dV0nT56EWq1GT08P7HY7uru7kZycjLKyMlRUVMBkMiEvL49mQSaTCRAsyyIYDGJqagq9vb3o6OgAfd/Y2LijqampKxZEFEB9fX15XV1d/6lTp5CdnY3Hjx/D6/XizZs3QhfUAaVYs2YN8vPzkZubC4VCAalUCpFIJGSDZgYUhGYG1dXV5efOneuPBbEIoKGhwVRTUzN46tQpIcVDQ0PweDyYnJxEOBxGdnY2jEYjCgsLkZeXB61WC5VKBZlMRg9r9BHTbLx+/RqdnZ2ora01NzY2vl8EcPDgQUNVVdXQ8ePHkZGRgcnJSbjdbvj9fjidTkxMTEChUECr1cJgMNAsqNVqaDQaGI1GqFQqqNVqIRu0FhobG3Hs2DHU19cbzpw5E1E1kQCHDh3S79q1a+T48ePIzMxEIBCA1+uF3++Hz+cDwzDweDyYm5uj54JEIoFCocDs7CyUSiV0Oh10Oh2ysrKQnp4Op9OJ5uZmHD16FGfPntWfPXv2TSRAJMDu3bt1u3fvHj127BiysrKEggvP+3g8HrhcLng8HiEbFI7+LhAICBCpqanQarWgQHq9HjqdDizLoqmpCUeOHMG5c+d0Z86ciciCAECPXJqBqqqqscOHDwtpnJubE9I6OzsLn88nwLAsC4/HA5fLBZfLJRQmzRDNQlpaGjQajZCNlJQU4QKi2Th8+DDOn/+VTilNJMDatWtTampqnuzZswcGg0FoH03p/FJSaFp49JvWBr1yxWIx7aBAWlqa8KR1QNNPMzM4+BgdHV9jevrpb01NTWsiSvAvAfh0JS9YQJ9sMplRVbVNsOjv70NPz8/o7v7D/+LFo/5oC1/a+T8G+AdWMJu2GSuZ7gAAAABJRU5ErkJggg==">
</head>
<body>
<div class="app-container">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <i class="fas fa-clock"></i>
            <h1>Tempo</h1>
        </div>
        <ul class="nav-links">
            <li class="nav-link active" data-tab="tasks">
                <i class="fas fa-tasks"></i>
                <span>Tasks</span>
            </li>
            <li class="nav-link" data-tab="pomodoro">
                <i class="fas fa-hourglass-half"></i>
                <span>Pomodoro</span>
            </li>
            <li class="nav-link" data-tab="analytics">
                <i class="fas fa-chart-bar"></i>
                <span>Analytics</span>
            </li>
            <li class="nav-link" data-tab="settings">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </li>
        </ul>
        <div class="sidebar-footer">
            <div class="version">v1.0.0</div>
            <div class="offline-indicator">
                <span class="offline-dot"></span>
                Offline Mode
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
        <!-- Header -->
        <header>
            <div class="header-content">
                <div class="current-date">Loading...</div>
                <div class="header-actions">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search tasks..." aria-label="Search tasks">
                    </div>
                    <button class="btn btn-primary" id="new-task-btn">
                        <i class="fas fa-plus"></i> New Task
                    </button>
                </div>
            </div>
        </header>

        <!-- Content Tabs -->
        <div class="content-area">
            <!-- Tasks Tab -->
            <div class="tab-content active" id="tasks-tab">
                <div class="tasks-header">
                    <h2>My Tasks</h2>
                    <div class="task-filters">
                        <button class="filter-btn active" data-filter="all">All</button>
                        <button class="filter-btn" data-filter="active">Active</button>
                        <button class="filter-btn" data-filter="completed">Completed</button>
                    </div>
                </div>

                <div class="task-list-container">
                    <div class="task-list" id="task-list">
                        <!-- Tasks will be added dynamically here -->
                    </div>
                </div>

                <div class="no-tasks-message hidden">
                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTkwIDQwSDUwQzQ0LjQ3NzIgNDAgNDAgNDQuNDc3MiA0MCA1MFYxNTBDNDAgMTU1LjUyMyA0NC40NzcyIDE2MCA1MCAxNjBIMTUwQzE1NS41MjMgMTYwIDE2MCAxNTUuNTIzIDE2MCAxNTBWOTAiIHN0cm9rZT0iIzZBN0VGQyIgc3Ryb2tlLXdpZHRoPSI2IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48cGF0aCBkPSJNNzAgMTAwTDkwIDEyMEwxNjAgNTAiIHN0cm9rZT0iIzZBN0VGQyIgc3Ryb2tlLXdpZHRoPSI2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L3N2Zz4=" alt="No tasks">
                    <h3>No tasks found</h3>
                    <p>Create a new task to get started</p>
                </div>
            </div>

            <!-- Pomodoro Tab -->
            <div class="tab-content" id="pomodoro-tab">
                <div class="pomodoro-container">
                    <div class="pomodoro-timer">
                        <div class="timer-progress">
                            <div class="timer-display">
                                <div class="timer-time">
                                    <span id="minutes">25</span>:<span id="seconds">00</span>
                                </div>
                                <div class="timer-label" id="timer-label">Focus Time</div>
                            </div>
                            <svg width="300" height="300" viewBox="0 0 300 300">
                                <defs>
                                    <linearGradient id="timerGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                                    </linearGradient>
                                </defs>
                                <circle cx="150" cy="150" r="120" fill="none" stroke="#eee" stroke-width="15" opacity="0.1" />
                                <circle cx="150" cy="150" r="120" fill="none" stroke="url(#timerGradient)" stroke-width="15"
                                        stroke-linecap="round" id="timer-circle" />
                            </svg>
                        </div>
                        <div class="timer-controls">
                            <button class="btn-round" id="btn-prev">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            <button class="btn-round btn-lg" id="btn-start">
                                <i class="fas fa-play"></i>
                            </button>
                            <button class="btn-round" id="btn-next">
                                <i class="fas fa-step-forward"></i>
                            </button>
                        </div>
                    </div>
                    <div class="pomodoro-info">
                        <h3>Current Session</h3>
                        <div class="current-task" id="current-pomodoro-task">
                            <p>No task selected</p>
                        </div>
                        <div class="session-info">
                            <div class="session-stat">
                                <div class="stat-label">Sessions</div>
                                <div class="stat-value" id="session-count">0/4</div>
                            </div>
                            <div class="session-stat">
                                <div class="stat-label">Total Focus Time</div>
                                <div class="stat-value" id="total-focus-time">0m</div>
                            </div>
                        </div>
                        <div class="pomodoro-settings">
                            <h3>Task Selection</h3>
                            <select id="pomodoro-task-select" class="task-select">
                                <option value="">Select a task</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Tab -->
            <div class="tab-content" id="analytics-tab">
                <div class="analytics-container">
                    <div class="analytics-header">
                        <h2>Productivity Analytics</h2>
                        <div class="date-range-filter">
                            <button class="filter-btn active" data-range="week">Week</button>
                            <button class="filter-btn" data-range="month">Month</button>
                            <button class="filter-btn" data-range="year">Year</button>
                        </div>
                    </div>

                    <div class="analytics-summary">
                        <div class="summary-card">
                            <div class="summary-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="summary-details">
                                <h4>Total Time Tracked</h4>
                                <p class="summary-value" id="total-time-tracked">0h 0m</p>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="summary-details">
                                <h4>Tasks Completed</h4>
                                <p class="summary-value" id="tasks-completed">0</p>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon">
                                <i class="fas fa-hourglass-end"></i>
                            </div>
                            <div class="summary-details">
                                <h4>Pomodoro Sessions</h4>
                                <p class="summary-value" id="pomodoro-sessions">0</p>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon">
                                <i class="fas fa-fire"></i>
                            </div>
                            <div class="summary-details">
                                <h4>Productivity Score</h4>
                                <p class="summary-value" id="productivity-score">0%</p>
                            </div>
                        </div>
                    </div>

                    <div class="analytics-charts">
                        <div class="chart-container">
                            <h3>Daily Activity</h3>
                            <canvas id="daily-activity-chart"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3>Time Distribution by Category</h3>
                            <canvas id="category-distribution-chart"></canvas>
                        </div>
                    </div>

                    <div class="analytics-details">
                        <div class="details-header">
                            <h3>Task Time Details</h3>
                            <div class="export-btn">
                                <i class="fas fa-download"></i> Export Data
                            </div>
                        </div>
                        <div class="details-table-container">
                            <table class="details-table">
                                <thead>
                                <tr>
                                    <th>Task</th>
                                    <th>Category</th>
                                    <th>Time Spent</th>
                                    <th>Pomodoros</th>
                                    <th>Completion Rate</th>
                                </tr>
                                </thead>
                                <tbody id="analytics-table-body">
                                <!-- Task data will be added dynamically -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div class="tab-content" id="settings-tab">
                <div class="settings-container">
                    <h2>Settings</h2>

                    <div class="settings-section">
                        <h3>Pomodoro Timer Settings</h3>
                        <div class="settings-form">
                            <div class="form-group">
                                <label for="pomodoro-duration">Focus Duration (minutes)</label>
                                <input type="number" id="pomodoro-duration" min="1" max="60" value="25">
                            </div>
                            <div class="form-group">
                                <label for="short-break-duration">Short Break Duration (minutes)</label>
                                <input type="number" id="short-break-duration" min="1" max="30" value="5">
                            </div>
                            <div class="form-group">
                                <label for="long-break-duration">Long Break Duration (minutes)</label>
                                <input type="number" id="long-break-duration" min="1" max="60" value="15">
                            </div>
                            <div class="form-group">
                                <label for="pomodoro-sessions">Pomodoro Sessions Before Long Break</label>
                                <input type="number" id="pomodoro-sessions-count" min="1" max="10" value="4">
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Notification Settings</h3>
                        <div class="settings-form">
                            <div class="form-group checkbox">
                                <input type="checkbox" id="sound-notifications" checked>
                                <label for="sound-notifications">Sound Notifications</label>
                            </div>
                            <div class="form-group checkbox">
                                <input type="checkbox" id="desktop-notifications" checked>
                                <label for="desktop-notifications">Desktop Notifications</label>
                            </div>
                            <div class="form-group">
                                <label for="notification-sound">Notification Sound</label>
                                <select id="notification-sound">
                                    <option value="bell">Bell</option>
                                    <option value="digital">Digital</option>
                                    <option value="chime">Chime</option>
                                    <option value="none">None</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Display Settings</h3>
                        <div class="settings-form">
                            <div class="form-group">
                                <label for="theme-select">Theme</label>
                                <select id="theme-select">
                                    <option value="light">Light</option>
                                    <option value="dark">Dark</option>
                                    <option value="system">System Default</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="accent-color">Accent Color</label>
                                <div class="color-options">
                                    <div class="color-option active" data-color="#6A7EFC" style="background-color: #6A7EFC;"></div>
                                    <div class="color-option" data-color="#FC6A6A" style="background-color: #FC6A6A;"></div>
                                    <div class="color-option" data-color="#6AFC8D" style="background-color: #6AFC8D;"></div>
                                    <div class="color-option" data-color="#FCBA6A" style="background-color: #FCBA6A;"></div>
                                    <div class="color-option" data-color="#D26AFC" style="background-color: #D26AFC;"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Data Management</h3>
                        <div class="settings-form">
                            <div class="form-group">
                                <button class="btn btn-secondary" id="export-data-btn">
                                    <i class="fas fa-download"></i> Export Data
                                </button>
                                <button class="btn btn-secondary" id="import-data-btn">
                                    <i class="fas fa-upload"></i> Import Data
                                </button>
                            </div>
                            <div class="form-group">
                                <button class="btn btn-danger" id="clear-data-btn">
                                    <i class="fas fa-trash-alt"></i> Clear All Data
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="settings-actions">
                        <button class="btn btn-primary" id="save-settings-btn">Save Settings</button>
                        <button class="btn btn-secondary" id="reset-settings-btn">Reset to Default</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modals -->
<!-- Task Modal -->
<div class="modal" id="task-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="modal-title">Add New Task</h3>
            <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
            <form id="task-form">
                <div class="form-group">
                    <label for="task-name">Task Name</label>
                    <input type="text" id="task-name" placeholder="Enter task name" required>
                </div>
                <div class="form-group">
                    <label for="task-description">Description (Optional)</label>
                    <textarea id="task-description" placeholder="Enter task description"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group half">
                        <label for="task-category">Category</label>
                        <select id="task-category">
                            <option value="work">Work</option>
                            <option value="personal">Personal</option>
                            <option value="study">Study</option>
                            <option value="health">Health</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group half">
                        <label for="task-priority">Priority</label>
                        <select id="task-priority">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group half">
                        <label for="estimated-pomodoros">Estimated Pomodoros</label>
                        <input type="number" id="estimated-pomodoros" min="1" max="20" value="1">
                    </div>
                    <div class="form-group half">
                        <label for="task-deadline">Deadline (Optional)</label>
                        <input type="date" id="task-deadline">
                    </div>
                </div>
                <input type="hidden" id="task-id">
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary cancel-btn">Cancel</button>
            <button class="btn btn-primary" id="save-task-btn">Save Task</button>
        </div>
    </div>
</div>

<!-- Confirmation Modal -->
<div class="modal" id="confirmation-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="confirmation-title">Confirmation</h3>
            <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
            <p id="confirmation-message">Are you sure you want to proceed?</p>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" id="cancel-confirmation">Cancel</button>
            <button class="btn btn-danger" id="confirm-action">Confirm</button>
        </div>
    </div>
</div>

<!-- Alert Toast -->
<div class="toast-container" id="toast-container">
    <!-- Toasts will be added dynamically here -->
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="script.js"></script>
</body>
</html>